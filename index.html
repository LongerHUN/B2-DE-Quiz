<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Wortschatz-Quiz</title>
<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    background: #f3f4f6;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }
  .quiz-box {
    width: 480px;
    background: #fff;
    padding: 1.6rem;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(10,10,10,0.08);
    text-align: center;
  }
  .topbar { display:flex; justify-content:space-between; margin-bottom:0.8rem; }
  .score, .counter { font-weight:700; color:#111827; font-size:0.95rem; }
  h1 { margin:0.8rem 0 0.9rem 0; font-size:1.25rem; color:#0f172a; }
  #options { margin-top: 0.6rem; }
.option {
    display: flex;              /* flexbox */
    align-items: center;        /* f√ºgg≈ëlegesen k√∂z√©p */
    justify-content: center;    /* v√≠zszintesen k√∂z√©p */

    background: #e6eefc;
    padding: 0.8rem;
    border-radius: 8px;
    margin: 0.5rem 0;
    cursor: pointer;
    user-select: none;
    transition: transform .08s ease, background .12s ease;
    border: 1px solid transparent;

    min-height: 50px;
    text-align: center;         /* t√∂bb sor eset√©n is k√∂z√©pre */
}




  .option:hover { transform: translateY(-2px); }
  .correct { background:#d1fae5 !important; border-color:#34d399; }
  .wrong { background:#ffdde0 !important; border-color:#ff6b6b; }
  .finished { text-align:center; padding:1rem; }
  .small { font-size:0.9rem; color:#374151; }
  .lesson-btn { margin:0.2rem; padding:0.4rem 0.8rem; border:none; border-radius:6px; cursor:pointer; background:#a3d8f4; }
  .lesson-btn.unselected { background:#e0e0e0; }
  select { margin-top:0.5rem; padding:0.4rem; border-radius:6px; }
  button#startQuiz { margin-top:0.5rem; padding:0.5rem 1rem; cursor:pointer; }
</style>
</head>
<body>

<div class="quiz-box">
  <div class="topbar">
    <div class="score">Punkte: <span id="score">0</span></div>
    <div class="counter">Frage: <span id="current">0</span>/<span id="total">0</span></div>
  </div>

  <div id="lessonButtons"></div>
  <div>
    <label>Anzahl der Antwortoptionen: </label>
    <select id="numOptions">
      <option value="2" selected>2</option>
      <option value="3">3</option>
    </select>
  </div>
  <button id="startQuiz">Quiz starten</button>

  <h1 id="word">W√§hle die Lektionen und dr√ºcke ‚ÄûQuiz starten‚Äú!</h1>
  <div id="options"></div>

  <h4 style="margin-top:1.2rem; color:#1f2937;">Verlauf:</h4>
<div id="history" 
     style="height:140px;
            overflow-y:auto; 
            border:1px solid #e5e7eb; 
            padding:0.6rem; 
            border-radius:8px; 
            background:#f9fafb;
            box-sizing:border-box;">
</div>


</div>

<script>
// ======= Daten =======
const data = {
  1: [
    ["der/die Arbeitgeber/-in", "eine Person oder Firma, die Mitarbeiter besch√§ftigt"],
  ["der/die Architekt/-in", "jemand, der Geb√§ude plant und entwirft"],
  ["der/die Automechaniker/-in", "jemand, der Autos repariert"],
  ["der Autoproduzent", "Firma, die Autos herstellt"],
  ["die Beratung", "ein Gespr√§ch, in dem man Hilfe oder Tipps bekommt"],
  ["die Betreuung", "Pflege oder Unterst√ºtzung von Personen"],
  ["die Branche", "ein Wirtschaftsbereich, z. B. Bau, Handel oder Medizin"],
  ["der Betrieb", "eine Firma oder Arbeitsst√§tte"],
  ["der Familienbetrieb", "ein Unternehmen, das von einer Familie gef√ºhrt wird"],
  ["die Hilfsorganisation", "eine Gruppe, die Menschen in Not hilft"],
  ["das internationale Unternehmen", "eine Firma, die in mehreren L√§ndern arbeitet"],
  ["die Lebensmittelbranche", "Bereich, der mit Essen und Trinken zu tun hat"],
  ["der Malerbetrieb", "eine Firma, die Malerarbeiten ausf√ºhrt"],
  ["der soziale Bereich", "Arbeit mit Menschen, z. B. Pflege oder Erziehung"],
  ["besch√§ftigen", "jemanden in einer Firma arbeiten lassen"],
  ["produzieren", "etwas herstellen"],
  ["geistig", "mit Denken oder Wissen verbunden"],
  ["handwerklich", "mit der Hand gearbeitet oder hergestellt"],
  ["sozial", "mit Menschen und ihrem Zusammenleben verbunden"],
  ["die Grundschule", "Schule f√ºr Kinder von etwa 6 bis 10 Jahren"],
  ["die weiterf√ºhrende Schule", "Schule nach der Grundschule"],
  ["die Hauptschule", "Schulform mit praktischer Ausbildungsvorbereitung"],
  ["die Realschule", "Schule mit mittlerem Bildungsabschluss"],
  ["die Gesamtschule", "Schule, die alle Bildungswege kombiniert"],
  ["das Gymnasium", "Schule, die zum Abitur f√ºhrt"],
  ["das Abitur", "h√∂chster Schulabschluss in Deutschland"],
  ["die Mittlere Reife", "mittlerer Schulabschluss, meist nach der Realschule"],
  ["die Berufsausbildung", "praktische und theoretische Ausbildung f√ºr einen Beruf"],
  ["der Bachelor", "erster Hochschulabschluss"],
  ["der Master", "zweiter Hochschulabschluss nach dem Bachelor"],
  ["das Zertifikat", "offizielles Dokument √ºber Kenntnisse oder Teilnahme"],
  ["mehr als", "gr√∂√üer in Menge oder Zahl"],
  ["weniger als", "kleiner in Menge oder Zahl"],
  ["(fast) alle", "nahezu jeder oder jede"],
  ["die H√§lfte", "50 % von etwas"],
  ["ein Viertel", "25 % von etwas"],
  ["ein Drittel", "33 % von etwas"],
  ["jeder Zehnte", "10 % von allen"]
  ],
  2: [
    ["der/die Ansprechpartner/-in", "eine Person, an die man sich bei Fragen wenden kann"],
  ["die Beratungsstelle", "Ort, wo man Hilfe oder Informationen bekommt"],
  ["das Berufspraktikum", "praktische Arbeitserfahrung in einem Beruf"],
  ["die duale Ausbildung", "Ausbildung mit Schule und Arbeit im Betrieb"],
  ["die Fachschule", "eine Schule f√ºr spezielle berufliche Ausbildung"],
  ["die Fortbildung", "Kurs, um neue Kenntnisse im Beruf zu lernen"],
  ["der Schichtdienst", "Arbeit zu unterschiedlichen Tages- und Nachtzeiten"],
  ["die staatliche Ausbildung", "Ausbildung, die vom Staat anerkannt ist"],
  ["die Weiterbildung", "Lernen nach der Ausbildung zur Verbesserung der Kenntnisse"],
  ["der Wunschberuf", "der Beruf, den man gerne aus√ºben m√∂chte"],
  ["einen Beruf aus√ºben", "in einem Beruf arbeiten"],
  ["finanzielle Unterst√ºtzung (vom Staat) beantragen", "Geldhilfe vom Staat anfordern"],
  ["in der Verwaltung arbeiten", "in einem B√ºro oder bei einer Beh√∂rde arbeiten"],
  ["zust√§ndig sein", "verantwortlich f√ºr etwas sein"],
  ["die Schw√§che", "etwas, das man nicht so gut kann"],
  ["die St√§rke", "etwas, das man besonders gut kann"],
  ["belastbar", "man kann gut mit Stress umgehen"],
  ["kreativ", "man hat viele neue Ideen"],
  ["teamf√§hig", "man kann gut mit anderen zusammenarbeiten"],
  ["verantwortungsbewusst", "man √ºbernimmt Verantwortung"],
  ["die Anerkennung", "offizielle Best√§tigung oder Wertsch√§tzung"],
  ["der Antrag", "offizielle Bitte oder Formular f√ºr eine Genehmigung"],
  ["der Lebenslauf", "Dokument mit Informationen √ºber Ausbildung und Arbeit"],
  ["die Unterlagen", "wichtige Dokumente oder Papiere"],
  ["das Zeugnis", "Dokument mit Noten oder Beurteilungen"],
  ["die Zulassung", "Erlaubnis, etwas zu machen oder teilzunehmen"]
  ],
  3: [
    ["der Arbeitsablauf", "die Reihenfolge der Arbeitsschritte"],
  ["das Berufsfeld", "ein Bereich, in dem man arbeiten kann"],
  ["das Fachdeutsch", "spezielle deutsche Sprache f√ºr einen Beruf"],
  ["die Fachleute/Fachkr√§fte (Pl.)", "Personen mit besonderer Ausbildung oder Erfahrung"],
  ["der/die Vermittler/-in", "jemand, der zwischen zwei Parteien vermittelt"],
  ["die Zugangsvoraussetzung", "etwas, das man braucht, um teilnehmen zu d√ºrfen"],
  ["die Meisterpr√ºfung machen", "eine Pr√ºfung f√ºr den Meistertitel ablegen"],
  ["pers√∂nlich vorbeikommen", "selbst an einem Ort erscheinen"],
  ["sich beruflich neu orientieren", "einen neuen Beruf oder Weg w√§hlen"],
  ["die beglaubigte Kopie", "eine offizielle, best√§tigte Kopie eines Dokuments"],
  ["die beglaubigte √úbersetzung", "eine offiziell best√§tigte √úbersetzung"],
  ["die berufliche Anerkennung", "Best√§tigung, dass ein Beruf im Ausland g√ºltig ist"],
  ["beantragen", "offiziell um etwas bitten"],
  ["die Qualifikation", "Ausbildung, Wissen oder F√§higkeit f√ºr eine Arbeit"],
  ["das √úbersetzungsb√ºro", "Firma, die Texte √ºbersetzt"],
  ["der/die Einzelunternehmer/-in", "eine Person, die allein ein Unternehmen f√ºhrt"],
  ["der/die Gesch√§ftspartner/-in", "jemand, mit dem man gesch√§ftlich zusammenarbeitet"],
  ["gut/schlecht anlaufen", "gut oder schlecht beginnen"],
  ["die freiberufliche T√§tigkeit", "Arbeit ohne feste Anstellung"],
  ["sich selbst√§ndig machen", "ein eigenes Unternehmen gr√ºnden"],
  ["ein Unternehmen", "eine Firma oder Organisation"],
  ["die Vorkenntnisse (Pl.)", "Wissen, das man schon vorher hat"],
  ["der Nachweis √ºber Deutschkenntnisse (Pl.)", "Dokument, das Sprachkenntnisse best√§tigt"],
  ["der Umgang mit Kunden", "wie man mit Kunden arbeitet oder spricht"],
  ["die Berechtigung", "das Recht, etwas zu tun"],
  ["die F√∂rderung", "finanzielle oder organisatorische Unterst√ºtzung"],
  ["der Lehrgang", "ein Kurs oder eine Schulung"],
  ["der MINT-Beruf", "Beruf in Mathematik, Informatik, Naturwissenschaft oder Technik"],
  ["die Teilzeit", "Arbeit mit weniger Stunden pro Woche"],
  ["die Vollzeit", "Arbeit mit normaler, kompletter Arbeitszeit"],
  ["der gefragte Beruf", "ein Beruf, den viele Arbeitgeber suchen"],
  ["der/die Handwerker/-in", "jemand, der handwerklich arbeitet"],
  ["der Fachwortschatz", "spezielle W√∂rter eines Berufs"]
  ],
  4: [
    ["die Anforderung", "etwas, das verlangt oder erwartet wird"],
  ["der/die Arbeitssuchende", "eine Person, die Arbeit sucht"],
  ["das mittelst√§ndische Unternehmen", "eine Firma mittlerer Gr√∂√üe"],
  ["nach dem aktuellen Stand fragen", "sich erkundigen, wie weit etwas ist"],
  ["sich an jmdn. wenden", "Kontakt zu einer Person aufnehmen"],
  ["sich auf eine Anzeige beziehen", "eine Bewerbung wegen einer Stellenanzeige schreiben"],
  ["sich um eine Stelle bewerben", "eine Bewerbung f√ºr einen Job schicken"],
  ["das Ehrenamt", "eine freiwillige, unbezahlte T√§tigkeit"],
  ["die Schulbildung", "die Ausbildung in der Schule"],
  ["die besonderen Kenntnisse (Pl.)", "spezielle F√§higkeiten oder Wissen"],
  ["die berufliche Station", "eine Arbeitsstelle in der Laufbahn"],
  ["die pers√∂nlichen Daten (Pl.)", "Informationen √ºber eine Person, z. B. Name, Adresse"],
  ["verhandlungssicher", "man kann sicher in einer Sprache sprechen und verhandeln"],
  ["die ausgeschriebene Stelle", "ein Job, der √∂ffentlich angeboten wird"],
  ["ein Bewerbungsschreiben", "ein Brief, mit dem man sich bewirbt"],
  ["verfassen", "einen Text schreiben"],
  ["f√ºr Fragen zur Verf√ºgung stehen", "bereit sein, Fragen zu beantworten"],
  ["den Interessen und Qualifikationen entsprechen", "passend zu den F√§higkeiten und W√ºnschen sein"],
  ["die Gehaltsvorstellung", "der gew√ºnschte Lohn oder das gew√ºnschte Gehalt"],
  ["die Herausforderung", "eine schwierige, aber interessante Aufgabe"],
  ["einen guten Eindruck machen", "positiv wirken"],
  ["eine schwierige Situation meistern", "ein Problem erfolgreich l√∂sen"],
  ["sich nach dem Stand der Dinge erkundigen", "fragen, wie die aktuelle Situation ist"],
  ["sich f√ºr einen Bewerber entscheiden", "jemanden ausw√§hlen, der den Job bekommt"],
  ["eine Stelle antreten", "mit der neuen Arbeit beginnen"],
  ["das Arbeitsverh√§ltnis", "die rechtliche Beziehung zwischen Arbeitgeber und Arbeitnehmer"],
  ["das Betriebsgeheimnis", "interne Information, die vertraulich ist"],
  ["das Gehalt", "monatliche Bezahlung f√ºr Arbeit"],
  ["die K√ºndigungsfrist", "Zeit zwischen K√ºndigung und Ende der Arbeit"],
  ["die Lohnfortzahlung", "weiteres Gehalt w√§hrend Krankheit"],
  ["die Probezeit", "Zeit am Anfang einer neuen Arbeit zur Pr√ºfung"],
  ["die √úberstunde", "Arbeit √ºber die normale Zeit hinaus"],
  ["der Verdienst", "das, was man durch Arbeit verdient"],
  ["die Verg√ºtung", "andere Bezeichnung f√ºr Bezahlung"],
  ["die Verschwiegenheitspflicht", "Pflicht, geheime Informationen nicht weiterzugeben"]
  ],
  5: [
    ["die Anweisung", "eine offizielle oder m√ºndliche Vorschrift"],
  ["die Gefahrenstelle", "ein gef√§hrlicher Ort, an dem man vorsichtig sein muss"],
  ["das Schild", "Hinweisschild oder Tafel mit Informationen"],
  ["der Verbesserungsvorschlag", "eine Idee, etwas besser zu machen"],
  ["das Zeichen", "ein Symbol oder Hinweis"],
  ["die Alarmanlage einschalten", "ein Sicherheitsger√§t aktivieren"],
  ["die √§tzende S√§ure", "eine Fl√ºssigkeit, die Material oder Haut zerst√∂ren kann"],
  ["das Berichtsheft f√ºhren", "ein Heft regelm√§√üig mit Informationen ausf√ºllen"],
  ["das brennende Material", "etwas, das Feuer fangen kann"],
  ["ein Dokument in der Firma auslegen", "ein Papier sichtbar f√ºr andere hinlegen"],
  ["die elektrische Spannung", "Stromst√§rke zwischen zwei Punkten"],
  ["das explosive Material", "ein Stoff, der leicht explodiert"],
  ["das giftige Material", "ein Stoff, der sch√§dlich oder t√∂dlich ist"],
  ["auf Hygiene achten", "sauber und ordentlich bleiben"],
  ["den Kunden / die Kundin zur Kasse begleiten", "jemanden bis zur Kasse f√ºhren"],
  ["keine Zeit verlieren", "schnell handeln"],
  ["die Papiere dabeihaben", "wichtige Dokumente mit sich haben"],
  ["Quittungen (Pl.) aufheben", "Belege behalten"],
  ["rechtzeitig Bescheid geben", "fr√ºh genug informieren"],
  ["einen Termin absagen", "einen Termin nicht wahrnehmen"],
  ["einen Termin verlegen", "den Termin auf einen anderen Tag verschieben"],
  ["einen Termin √ºbernehmen", "den Termin von jemand anderem √ºbernehmen"],
  ["√úberstunden (Pl.) berechnen", "zus√§tzliche Arbeitszeit z√§hlen oder bezahlen"],
  ["der Krankenschein", "√§rztliches Dokument zur Krankmeldung"],
  ["die Krankmeldung", "Mitteilung, dass man krank ist"],
  ["der Schwindel", "Gef√ºhl, dass sich alles dreht"],
  ["der Stromschlag", "ein elektrischer Schlag durch Strom"],
  ["die √úbelkeit", "ein schlechtes Gef√ºhl im Magen"],
  ["einen Arzt rufen", "den Arzt benachrichtigen oder anrufen"],
  ["gesundheitliche Probleme (Pl.) haben", "krank oder unwohl sein"],
  ["die Haut k√ºhlen", "kaltes Wasser oder K√ºhlmittel auf die Haut geben"],
  ["den Rettungsdienst anrufen", "Notruf w√§hlen, um Hilfe zu holen"],
  ["sich krankmelden", "der Arbeit sagen, dass man krank ist"],
  ["die Stromquelle abschalten", "den Strom ausschalten"],
  ["die Vertretung organisieren", "jemanden finden, der einspringt"],
  ["den Unfallbericht schreiben", "ein Formular √ºber den Unfall ausf√ºllen"],
  ["die antibakterielle Seife", "Seife, die Bakterien t√∂tet"],
  ["die Ordnung", "Sauberkeit und System im Arbeitsplatz"],
  ["der Putzlappen", "Tuch zum Saubermachen"],
  ["der Staubsauger", "Ger√§t, das Staub aufsaugt"],
  ["das Waschbecken", "Becken zum H√§ndewaschen"]
  ],
  6: [
  ["der Mengenrabatt", "Rabatt, wenn man viele Produkte kauft"],
  ["die Preisangabe", "Information √ºber den Preis eines Produkts"],
  ["der Preisnachlass", "Reduzierung des Preises"],
  ["eine Bestellung aufgeben", "ein Produkt offiziell bestellen"],
  ["eine Bestellung durchgeben", "eine Bestellung weiterleiten"],
  ["die Buchung best√§tigen", "sagen, dass eine Buchung korrekt ist"],
  ["einen Liefertermin abkl√§ren", "den Zeitpunkt der Lieferung vereinbaren"],
  ["eine offene Frage kl√§ren", "eine noch unbeantwortete Frage beantworten"],
  ["der vereinbarte Termin", "ein vorher festgelegter Termin"],
  ["nachfragen", "noch einmal fragen, um Klarheit zu bekommen"],
  ["vorbeikommen", "pers√∂nlich an einen Ort gehen"],
  ["am Apparat", "mit jemandem am Telefon sprechen"],
  ["auf den Anrufbeantworter sprechen", "eine Nachricht auf der Mailbox hinterlassen"],
  ["Auskunft geben", "Informationen geben"],
  ["au√üerhalb der Sprechzeit anrufen", "w√§hrend der geschlossenen Zeit anrufen"],
  ["Bezug nehmen auf", "sich auf etwas beziehen"],
  ["in dringenden F√§llen", "wenn etwas sehr wichtig ist"],
  ["eine kurze R√ºckmeldung geben", "kurz antworten oder informieren"],
  ["ohne Voranmeldung", "ohne vorherige Anmeldung"],
  ["sich wenden an", "an jemanden herantreten oder kontaktieren"],
  ["das Missverst√§ndnis", "wenn etwas falsch verstanden wird"],
  ["auf Beschwerden reagieren", "wenn jemand sich beschwert, antworten"],
  ["auf Nachfrage", "wenn man danach fragt"],
  ["Bescheid geben", "informieren oder sagen"],
  ["Einweisung in das Programm bekommen", "erkl√§rt bekommen, wie das Programm funktioniert"],
  ["einen Konflikt l√∂sen", "ein Problem zwischen Personen kl√§ren"],
  ["sich beschweren", "√ºber etwas Negatives sprechen"],
  ["(nicht) zufrieden sein mit", "gl√ºcklich oder ungl√ºcklich mit etwas sein"],
  ["Behandlung beim Zahnarzt", "medizinische Versorgung der Z√§hne"],
  ["der Abdruck", "Abformung der Z√§hne f√ºr Zahnbehandlung"],
  ["die provisorische F√ºllung", "vor√ºbergehende Zahnf√ºllung"],
  ["die Bet√§ubungsspritze", "Spritze, die Schmerzen beim Zahnarzt verhindert"],
  ["die Haltbarkeit", "wie lange etwas h√§lt"],
  ["das Inlay", "eingesetzte Zahnf√ºllung aus Material"],
  ["die Karies", "Zahnerkrankung, L√∂cher im Zahn"],
  ["die Keramik", "Material f√ºr Zahnersatz"],
  ["das Labor", "Ort, wo Zahnersatz hergestellt wird"],
  ["der Notdienst", "√§rztlicher Dienst f√ºr Notf√§lle"],
  ["gr√ºndlich Z√§hne putzen", "die Z√§hne sehr sauber putzen"],
  ["Schmerzen aushalten", "Schmerzen ertragen"]
],
  7: [
  ["die Gastronomie", "Restaurants, Hotels und Essensbetriebe"],
  ["der Gro√ühandel", "Verkauf von Waren an Unternehmen, nicht direkt an Kunden"],
  ["der Einzelhandel", "Verkauf von Waren direkt an Kunden"],
  ["die Immobilienbranche", "Berufe rund um H√§user, Wohnungen und Grundst√ºcke"],
  ["die IT-Branche", "Berufe mit Computern und Informationstechnologie"],
  ["der Maschinenbau", "Herstellung und Entwicklung von Maschinen"],
  ["die Medien", "Zeitungen, TV, Radio und Internet (Pl.)"],
  ["die Metallindustrie", "Berufe rund um die Metallverarbeitung"],
  ["der √ñffentliche Dienst", "Jobs bei Staat oder Stadtverwaltung"],
  ["die Pharmaindustrie", "Herstellung von Medikamenten"],
  ["Transport und Logistik", "Transport von Waren und Organisation der Lieferkette"],
  ["Abteilungen", "verschiedene Bereiche innerhalb einer Firma"],
  ["der Einkauf", "Abteilung, die Waren besorgt"],
  ["die Finanzabteilung", "Abteilung f√ºr Geld, Buchhaltung und Rechnungen"],
  ["die Gesch√§ftsleitung", "Leitung einer Firma"],
  ["die Gesch√§ftsf√ºhrung", "Personen, die die Firma f√ºhren"],
  ["die Kundenbetreuung", "Kontakt und Hilfe f√ºr Kunden"],
  ["das Lager", "Ort, wo Waren aufbewahrt werden"],
  ["die Marketingabteilung", "Abteilung f√ºr Werbung und Verkauf"],
  ["die Personalabteilung", "Abteilung f√ºr Mitarbeiter und Personalangelegenheiten"],
  ["die Produktion", "Herstellung von Produkten"],
  ["die Berufschancen", "M√∂glichkeiten f√ºr Jobs und Karriere (Pl.)"],
  ["der Einsatzplan", "Plan, wann Mitarbeiter arbeiten"],
  ["die Konkurrenz", "andere Firmen, die das Gleiche verkaufen"],
  ["der/die Vorgesetzte", "Chef oder Chefin"],
  ["die Ware", "Produkt, das verkauft wird"],
  ["Arbeitsatmosph√§re", "wie das Arbeitsklima ist"],
  ["die Anredeform", "wie man jemanden anspricht (Du/Sie)"],
  ["die Firmenphilosophie", "Grunds√§tze und Werte einer Firma"],
  ["das Image", "wie eine Firma gesehen wird"],
  ["duzen", "jemanden mit 'du' ansprechen"],
  ["siezen", "jemanden mit 'Sie' ansprechen"],
  ["angemessen", "passend oder korrekt"],
  ["f√∂rmlich", "offiziell und korrekt"],
  ["konservativ", "traditionell und vorsichtig"],
  ["locker", "entspannt und ungezwungen"],
  ["respektlos", "ohne Respekt"],
  ["traditionsreich", "mit langer Geschichte und Tradition"],
  ["das Du anbieten", "jemandem 'du' vorschlagen"],
  ["den ersten Schritt machen", "zuerst handeln oder anfangen"],
  ["per Du/Sie sein", "mit jemandem 'du' oder 'Sie' verwenden"],
  ["tabu sein", "nicht erlaubt oder unangemessen"]
],


};

// ===== Glob√°lis v√°ltoz√≥k =====
let currentQuizData = [];
let used = [];
let score = 0;
let current = 0;
let selectedLessons = [];
let numOptions = 2;
let historyList = [];


const totalEl = document.getElementById("total");
const currentEl = document.getElementById("current");
const scoreEl = document.getElementById("score");
const wordEl = document.getElementById("word");
const optionsEl = document.getElementById("options");
const lessonButtonsDiv = document.getElementById("lessonButtons");
const numOptionsSelect = document.getElementById("numOptions");

// ===== Lektionen-Buttons =====
Object.keys(data).forEach(lesson => {
  const btn = document.createElement("button");
  btn.textContent = `Lektion ${lesson}`;
  btn.classList.add("lesson-btn", "unselected"); // alapb√≥l sz√ºrke, nincs kiv√°lasztva
  btn.dataset.lesson = lesson;
  btn.dataset.selected = "false"; // alap√©rtelmezett: nincs kiv√°lasztva
  btn.onclick = () => {
    btn.dataset.selected = btn.dataset.selected === "true" ? "false" : "true";
    btn.classList.toggle("unselected", btn.dataset.selected === "false");
  };
  lessonButtonsDiv.appendChild(btn);
});

// ===== Quiz starten =====
document.getElementById("startQuiz").onclick = () => {
  selectedLessons = Array.from(lessonButtonsDiv.children)
    .filter(btn => btn.dataset.selected === "true")
    .map(btn => parseInt(btn.dataset.lesson));

  numOptions = parseInt(numOptionsSelect.value);

  currentQuizData = selectedLessons.length === 0 ? Object.values(data).flat() : selectedLessons.flatMap(l => data[l] || []);

  used = [];
  current = 0;
  score = 0;
  scoreEl.textContent = score;

  totalEl.textContent = currentQuizData.length; // teljes sz√°ml√°l√≥
  currentEl.textContent = 0;

  nextQuestion();
};

// ===== Quiz-Logik =====
function safeRandomIndexFiltered(arr, excludeIndexes = []) {
  if (arr.length === 0) return -1;
  let idx;
  let tries = 0;
  do {
    idx = Math.floor(Math.random() * arr.length);
    tries++;
    if (tries > 500) break;
  } while (excludeIndexes.includes(idx));
  return idx;
}

function nextQuestion() {
  if (currentQuizData.length === 0) {
    wordEl.textContent = "Keine W√∂rter in den ausgew√§hlten Lektionen.";
    optionsEl.innerHTML = "";
    currentEl.textContent = "0";
    totalEl.textContent = "0";
    return;
  }

  if (used.length === currentQuizData.length) {
    document.querySelector(".quiz-box").innerHTML = `
      <div class="finished">
        <h2>üéâ Fertig!</h2>
        <p class="small">Endstand: <strong>${score}</strong> Punkte</p>
        <p class="small">Du hast alle Fragen bearbeitet.</p>
      </div>`;
    return;
  }

  let index;
  do { index = Math.floor(Math.random() * currentQuizData.length); }
  while (used.includes(index));
  used.push(index);
  current++;

  currentEl.textContent = current;

  const [word, correct] = currentQuizData[index];
  wordEl.textContent = word;

  const options = [correct];
  while (options.length < numOptions) {
    let otherIdx = safeRandomIndexFiltered(currentQuizData, [index]);
    const def = currentQuizData[otherIdx]?.[1] || correct;
    if (!options.includes(def)) options.push(def);
  }

  options.sort(() => Math.random() - 0.5);

  optionsEl.innerHTML = "";
  options.forEach(opt => {
    const btn = document.createElement("div");
    btn.className = "option";
    btn.textContent = opt;

    btn.onclick = () => {
      const wasCorrect = opt === correct;

      historyList.push({
        word,
        answer: opt,
        correct: wasCorrect
      });
      updateHistory();

      if (wasCorrect) {
        btn.classList.add("correct");
        score += 1;
        scoreEl.textContent = score;
        setTimeout(nextQuestion, 700);
      } else {
        btn.classList.add("wrong");
        score -= 1;
        scoreEl.textContent = score;
        setTimeout(() => btn.classList.remove("wrong"), 600);
      }
    };

    optionsEl.appendChild(btn);
  });
} 

function updateHistory() {
  const historyEl = document.getElementById("history");

  historyEl.innerHTML = historyList.map(item => {
    const answerColor = item.correct ? "#059669" : "#dc2626";

    return `
      <div style="margin-bottom:0.7rem; padding-bottom:0.4rem; border-bottom:1px solid #e5e7eb;">
        <div style="font-weight:bold; color:#111827;">
          ${item.word}
        </div>
        <div style="margin-top:2px; color:${answerColor}; font-weight:600;">
          ${item.answer}
        </div>
      </div>
    `;
  }).join("");
}

</script>

</body>
</html>





